<script src="//maps.google.com/maps/api/js?key=AIzaSyAOa5KsMEi1ZgvMjQuvM0WesBb-JkWCYqs"></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->
<div class = "article-title"><h2 align="center"><%= @article.title %></h2>
<h3 align="center"><%= @article.architect %></h3></div>
<div class="well col-xs-8 col-xs-offset-2">
<div class "article-description"><%= @article.description %>
</div></div> 

<div style='width: 570px;'>
 <div id="geolocation" style='width: 575px; height: 400px;'>
 
<script>
var handler = Gmaps.build('Google');
handler.buildMap({ internal: {id: 'geolocation'} }, function(){
  // be aware chrome >= 50 requires https for geolocation to work
  if(navigator.geolocation)
    navigator.geolocation.getCurrentPosition(displayOnMap);
});

function displayOnMap(position){
  var marker = handler.addMarker({
    lat: position.coords.latitude,
    lng: position.coords.longitude
  });
  handler.map.centerOn(marker);
};
</script>
 </div>
 </div>
<div class="article_actions">
<div class = "col-xs-8 col-xs-offset-2">
<%= link_to 'Back to Articles listing' , articles_path, id: "button3", class: "btn btn-sm btn-primary"  %>
<% if logged_in? && (current_user == @article.user || current_user.admin?) %>
<%= link_to 'Edit this article',edit_article_path, id:"button1", class: "btn btn-sm btn-primary" %>

<%= link_to 'Create a New Article',new_article_path, id:"button2", class: "btn btn-sm btn-primary"  %>
<% end %>

</div>
</div>
</div>
</div>
